<body>

    <h1>Nuevo Ingreso</h1>

    <form [formGroup]="ingresoForm" (ngSubmit)="onSaveForm()" class="ingresoForm">

        <h3>Información General</h3>

        <span>Número Ingreso</span>
        <input class="datos" type="text" name="nIngreso" [disabled]="false">

        <span>Fecha</span>
        <input class="datos" type="date" name="fecha" formControlName="fecha">
        <div class="alert-danger" *ngIf="fecha.invalid && (fecha.dirty || fecha.touched)">
            <div class="container-error-message" *ngIf="fecha.errors?.required">
                La fecha es requerida.
            </div>
        </div>


        <span>Beneficiario</span>
        <select class="datos" name="beneficiario" formControlName="beneficiario" (change)="changeBeneficiario($event)">
            <option value="0">Seleccionar</option>
            <option *ngFor="let beneficiary of beneficiary" [ngValue]="beneficiary">{{beneficiary}}</option>
        </select>
        <div class="alert-danger" *ngIf="beneficiario.invalid && (beneficiario.dirty || beneficiario.touched)">
            <div class="container-error-message" *ngIf="beneficiario.errors?.required">
                Por favor seleccione un beneficiario.
            </div>
        </div>



        <span>Cuenta Bancaria</span>
        <select class="datos" name="cuentaBancaria" formControlName="cuentaBancaria" (change)="changeCuenta($event)">
            <option value="0">Seleccionar</option>
            <option *ngFor="let account of account" [ngValue]="account">{{account}}</option>
        </select>
        <div class="alert-danger" *ngIf="cuentaBancaria.invalid && (cuentaBancaria.dirty || cuentaBancaria.touched)">
            <div class="container-error-message" *ngIf="cuentaBancaria.errors?.required">
                Por favor seleccione una cuenta bancaria.
            </div>
        </div>


        <span>Método de Pago</span>
        <select class="datos" name="metodoPago" formControlName="metodoPago" (change)="changeMetodoPago($event)">
            <option value="0">Seleccionar</option>
            <option *ngFor="let payment of payment" [ngValue]="payment">{{payment}}</option>
        </select>
        <div class="alert-danger" *ngIf="metodoPago.invalid && (metodoPago.dirty || metodoPago.touched)">
            <div class="container-error-message" *ngIf="metodoPago.errors?.required">
                Por favor seleccione un método de pago.
            </div>
        </div>

        <span>Notas Adicionales</span>
        <textarea class="datos" name="notasAdicionales" id="" cols="30" rows="10"></textarea>

        <span>Número</span>
        <input class="datos" type="text" name="nCheque" formControlName="extra">
        <div class="alert-danger" *ngIf="extra.invalid && (extra.dirty || extra.touched)">
            <div class="container-error-message" *ngIf="extra.errors?.required">
                Correo electrónico es requerido.
            </div>
            <div class="container-error-message" *ngIf="extra.errors?.minlength">
                Correo electrónico debe tener por lo menos 8 caracteres.
            </div>
            <div class="container-error-message"
                *ngIf="(extra.dirty || extra.touched) && extra.invalid && extra.errors?.pattern">
                Correo electrónico debe ser de un formato válido.
            </div>
        </div>


        <h3>Cuenta Contable</h3>

        <span>Concepto</span>
        <select class="datos" name="Concepto" formControlName="concepto" (change)="changeConcepto($event)">
            <option value="0">Seleccionar</option>
            <option *ngFor="let concept of concept" [ngValue]="concept">{{userlevel}}</option>
        </select>
        <div class="alert-danger" *ngIf="concepto.invalid && (concepto.dirty || concepto.touched)">
            <div class="container-error-message" *ngIf="concepto.errors?.required">
                Por favor seleccione un concepto de cuenta contable.
            </div>
        </div>

        <span>Valor</span>
        <input class="datos" type="text" name="valor" formControlName="valor_concepto">
        <div class="alert-danger" *ngIf="valor_concepto.invalid && (valor_concepto.dirty || valor_concepto.touched)">
            <div class="container-error-message" *ngIf="valor_concepto.errors?.required">
                Por favor ingrese un valor para el concepto.
            </div>
            <div class="container-error-message" *ngIf="valor_concepto.errors?.minlength">
                Correo electrónico debe tener por lo menos 8 caracteres.
            </div>
            <div class="container-error-message"
                *ngIf="(valor_concepto.dirty || valor_concepto.touched) && valor_concepto.invalid && valor_concepto.errors?.pattern">
                Correo electrónico debe ser de un formato válido.
            </div>
        </div>

        <span>Impuesto</span>
        <select class="datos" name="valor" formControlName="impuesto" (change)="changeImpuesto($event)">
            <option value="0">Seleccionar</option>
            <option *ngFor="let tax of listaImpuesto" [value]="tax.id_impuesto" >{{tax.nombre_imp}}</option>
        </select>
        <div class="alert-danger" *ngIf="impuesto.invalid && (impuesto.dirty || impuesto.touched)">
            <div class="container-error-message" *ngIf="impuesto.errors?.required">
                Por favor seleccione un impuesto.
            </div>
        </div>

        <span>Cantidad</span>
        <input class="datos" type="text" name="valor" formControlName="cantidad">
        <div class="alert-danger" *ngIf="cantidad.invalid && (cantidad.dirty || cantidad.touched)">
            <div class="container-error-message" *ngIf="cantidad.errors?.required">
                Por favor ingrese una cantidad.
            </div>
            <div class="container-error-message"
                *ngIf="(cantidad.dirty || cantidad.touched) && cantidad.invalid && cantidad.errors?.pattern">
                Por favor ingrese un valor válido.
            </div>
        </div>

        <span>Notas Adicionales</span>
        <textarea class="datos" name="notasAdicionales2" id="" cols="30" rows="10"></textarea>


        <h3>Retencion</h3>


        <span>Tipo</span>
        <select class="datos" name="tipo" formControlName="tipoRetencion" (change)="changeRetencion($event)">
            <option value="0">Seleccionar</option>
            <option></option>
        </select>



        <p>Subtotal $</p>
        <p>IVA $</p>
        <p>Total $</p>

        <input class="boton" type="submit" value="Guardar">

        <input class="boton" type="submit" value="Cancelar">

    </form>
</body>